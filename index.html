<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>서브도메인 대여 - codz.me</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="app.js" defer></script>
</head>
<body>
  <div class="main-content fade-up">
    <div class="top-bar">
      <label for="language-select" class="language-icon" title="Language">
        <span class="sr-only">Language</span>
        <svg viewBox="0 0 32 32" aria-hidden="true" focusable="false">
          <defs>
            <linearGradient id="globeGradient" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" stop-color="#27d16f" />
              <stop offset="100%" stop-color="#00b85c" />
            </linearGradient>
          </defs>
          <circle cx="16" cy="16" r="14" fill="none" stroke="url(#globeGradient)" stroke-width="2" />
          <path d="M6 12h20M6 20h20" stroke="url(#globeGradient)" stroke-width="1.6" stroke-linecap="round" fill="none" />
          <path d="M16 2c4 4 4 24 0 28c-4-4-4-24 0-28z" stroke="url(#globeGradient)" stroke-width="1.6" stroke-linecap="round" fill="none" />
        </svg>
      </label>
      <select id="language-select" class="language-select">
        <option value="ko">한국어</option>
        <option value="en">English</option>
      </select>
    </div>

    <h1 class="site-title">
      <span class="domain-roller">
        <span class="size-keeper" aria-hidden="true">sub</span>
        <span class="word current">sub</span>
        <span class="word next">pizza</span>
      </span>.codz.me
    </h1>
    <p class="subtitle">나만의 서브도메인, 간단하게 등록하세요</p>

    <div class="search-box">
      <input type="text" id="subdomain-input" placeholder="원하는 서브도메인 입력..." />
      <button id="check-button">검색</button>
    </div>

    <div id="result-message" class="result-message"></div>

    <div class="request-section">
      <button id="request-button" class="request-button" disabled>요청하기</button>
      <div class="notice">
        <h3>유의사항</h3>
        <ul>
          <li>codz.me는 교내 학생 전용 서비스입니다.</li>
          <li>음란물, 불법광고, 피싱 사이트 등은 절대 등록 불가합니다.</li>
          <li>신청 후 검토 과정이 있으며, 결과는 이메일로 안내됩니다.</li>
        </ul>
      </div>
    </div>
  </div>

  <div id="modal-backdrop" class="modal-backdrop" hidden></div>
  <div id="request-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="request-modal-title" hidden>
    <div class="modal-header">
      <h2 id="request-modal-title">서브도메인 신청</h2>
      <button type="button" class="modal-close" id="modal-close" aria-label="닫기">×</button>
    </div>
    <form id="request-form" class="modal-form">
      <section class="form-section">
        <h3>신청자 정보</h3>
        <label>
          이름
          <input type="text" id="applicant-name" name="applicantName" required />
        </label>
        <label>
          학번
          <input type="text" id="applicant-id" name="applicantId" required />
        </label>
        <label>
          디미고 이메일 주소
          <input
            type="email"
            id="applicant-email"
            name="applicantEmail"
            required
            title="디미고 이메일(@dimigo.hs.kr)만 사용할 수 있습니다."
          />
        </label>
      </section>

      <section class="form-section">
        <h3>서브도메인 정보</h3>
        <label>
          원하는 서브도메인 이름
          <input type="text" id="form-subdomain" name="subdomain" disabled />
        </label>
        <label>
          연결할 대상
          <select id="record-type" name="recordType" required>
            <option value="">선택하세요</option>
            <option value="A">A 레코드 IP</option>
            <option value="CNAME">CNAME URL</option>
          </select>
        </label>
        <label>
          A/CNAME 레코드 연결 대상 값 (IP 또는 URL)
          <input type="text" id="record-target" name="recordTarget" required />
        </label>
        <label>
          연결할 사이트의 미리보기 주소 (위 항목과 주소가 달라도 됨, 해당 사이트를 바탕으로 1차적으로 승인 여부를 판단함)
          <input type="url" id="site-url" name="siteUrl" required />
        </label>
      </section>

      <section class="form-section">
        <h3>용도 및 설명</h3>
        <label>
          사용 목적
          <textarea id="usage-purpose" name="usagePurpose" rows="3" required></textarea>
        </label>
        <label>
          예상 이용 대상
          <input type="text" id="usage-audience" name="usageAudience" required />
        </label>
        <label>
          예상 운영 기간
          <select id="usage-period" name="usagePeriod" required>
            <option value="">선택하세요</option>
            <option value="semester">한 학기</option>
            <option value="year">1년</option>
            <option value="year">졸업 시까지</option>
            <option value="other">모르겠음</option>
          </select>
        </label>
      </section>

      <section class="form-section">
        <h3>약관 및 정책</h3>
        <label class="terms">
          <input type="checkbox" id="terms-checkbox" required />
          <span>
            <b>아래 내용에 동의할 경우 위 체크박스를 선택하세요.</b><br />
            부적절한 콘텐츠 발견 시 도메인은 사전 통보 없이 삭제될 수 있음<br />
            codz.me 도메인의 이미지를 훼손한다고 판단될 경우 통보 없이 삭제될 수 있음<br />
            신청자는 사이트의 관리 책임을 짐<br />
            신청자의 이전 전적에 의거하여 해당 신청자의 추가 신청이 반려될 수 있음<br />
            본인이 아닌 다른 사람의 요청을 대신 신청할 수 없음<br />
            관리자의 판단에 따라 언제든 서브도메인을 회수할 수 있음
          </span>
        </label>
      </section>

      <section class="form-section">
        <h3>이메일 인증</h3>
        <div class="email-verification">
          <button type="button" id="verification-button">이메일 인증 요청</button>
          <span id="verification-status" aria-live="polite"></span>
        </div>
      </section>

      <div class="form-actions">
        <span id="form-submit-status" aria-live="polite"></span>
        <button type="submit" id="submit-request" disabled>신청 제출</button>
      </div>
    </form>
  </div>
</body>
</html>
